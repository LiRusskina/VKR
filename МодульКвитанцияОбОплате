&НаСервере 
Функция ПолучитьСчётПлательщика(СчётПлательщика, ТекущийПлательщик)
    Запрос = Новый Запрос;
     Запрос.Текст =
	"ВЫБРАТЬ
	|	БанковскиеСчета.НомерСчёта КАК НомерСчёта
	|ИЗ
	|	Справочник.БанковскиеСчета КАК БанковскиеСчета
	|ГДЕ
	|	БанковскиеСчета.Владелец = &Владелец";
     Запрос.УстановитьПараметр("Владелец", ТекущийПлательщик);
    ВыборкаДетальныеЗаписи = Запрос.Выполнить().Выбрать();
    Если ВыборкаДетальныеЗаписи.Следующий() Тогда
     Возврат  ВыборкаДетальныеЗаписи.НомерСчёта; 
Иначе
    Возврат 0;
КонецЕсли;      
КонецФункции

&НаСервере 
Функция ПолучитьСчётОрганизации(СчётОрганизации, ТекущаяОрганизация)
    Запрос = Новый Запрос;
    Запрос.Текст =
	  "ВЫБРАТЬ
	 |	БанковскиеСчета.НомерСчёта КАК НомерСчёта
	 |ИЗ
	 |	Справочник.БанковскиеСчета КАК БанковскиеСчета
	 |ГДЕ
	 |	БанковскиеСчета.Владелец = &Владелец";
    Запрос.УстановитьПараметр("Владелец", ТекущаяОрганизация);
    ВыборкаДетальныеЗаписи = Запрос.Выполнить().Выбрать();
    Если ВыборкаДетальныеЗаписи.Следующий() Тогда
     Возврат  ВыборкаДетальныеЗаписи.НомерСчёта; 
Иначе
    Возврат 0;
КонецЕсли;      
КонецФункции

&НаКлиенте
Процедура ПередЗаписью(Отказ, ПараметрыЗаписи)
	Объект.СчётПлательщика = ПолучитьСчётПлательщика(Объект.СчётПлательщика, Объект.Плательщик);
	Объект.СчётОрганизации = ПолучитьСчётОрганизации(Объект.СчётОрганизации, Объект.Организация)
КонецПроцедуры
